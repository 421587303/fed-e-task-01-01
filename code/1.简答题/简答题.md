# 简答题

## 异步编程

因为javascript语言的执行环境是“单线程”，也就是说js代码都是同步的需要一行一行的执行。这样就会浪费很多的时间。但是浏览器是多线程的，就可以调用浏览器的api把异步的任务都丢给浏览器去执行，执行完了以后在回js的线程中，继续运行。

## Event Loop

同步代码会依次加入执行栈然后执行，结束会退出执行栈。如果执行栈里的任务执行完成，即执行栈为空的时候（即JS引擎线程空闲），事件触发线程才会从消息队列取出一个任务（即异步的回调函数）放入执行栈中执行。

## 消息队列

JS引擎线程遇到异步（DOM事件监听、网络请求、setTimeout计时器等...），会交给相应的线程单独去维护异步任务，等待某个时机（计时器结束、网络请求成功、用户点击DOM），然后由事件触发线程将异步对应的回调函数加入到消息队列中，消息队列中的回调函数等待被执行。

## 宏任务

大概包括：script(整体代码), setTimeout, setInterval, setImmediate, I/O, UI rendering。

## 微任务

大概包括: process.nextTick, Promise, MutationObserver(H5新特性)